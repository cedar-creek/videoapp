(()=>{document.querySelector("#start-camera");let e=document.querySelector("#video"),t=document.querySelector("#start-record"),o=document.querySelector("#stop-record"),r=document.querySelector("#download-video"),c=null,a=null,n=[];e.muted=!0,async function(){c=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),document.querySelector(".overlay").style.display="block",e.srcObject=c,e.style.webkitTransform="scaleX(-1)",e.style.transform="scaleX(-1)"}(),t.addEventListener("click",(function(){a=new MediaRecorder(c,{mimeType:"video/webm"}),a.addEventListener("dataavailable",(function(e){n.push(e.data)})),a.addEventListener("stop",(function(){let e=URL.createObjectURL(new Blob(n,{type:"video/webm"}));r.href=e})),a.start(1e3)})),o.addEventListener("click",(function(){a.stop()}))})();