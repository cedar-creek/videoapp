(()=>{document.querySelector("#start-camera");let e=document.querySelector("#video"),t=document.querySelector("#start-record"),o=document.querySelector("#stop-record"),r=document.querySelector("#download-video"),a=null,d=null,c=[];e.muted=!0;let n={audio:!0,video:{width:{ideal:1920},height:{ideal:1080},facingMode:"user"}};!async function(){a=await navigator.mediaDevices.getUserMedia(n),document.querySelector(".overlay").style.display="block",e.srcObject=a,e.style.webkitTransform="scaleX(-1)",e.style.transform="scaleX(-1)"}(),t.addEventListener("click",(function(){d=new MediaRecorder(a,{mimeType:"video/webm"}),d.addEventListener("dataavailable",(function(e){c.push(e.data)})),d.addEventListener("stop",(function(){let e=URL.createObjectURL(new Blob(c,{type:"video/webm"}));r.href=e})),d.start(1e3)})),o.addEventListener("click",(function(){d.stop()}))})();